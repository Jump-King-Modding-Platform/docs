"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[155],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),u=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return a.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=u(n),m=r,g=d["".concat(p,".").concat(m)]||d[m]||c[m]||l;return n?a.createElement(g,i(i({ref:t},s),{},{components:n})):a.createElement(g,i({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=d;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5159:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return o},metadata:function(){return u},toc:function(){return c}});var a=n(7462),r=n(3366),l=(n(7294),n(3905)),i=["components"],o={sidebar_position:2,title:"Create a plugin manually"},p=void 0,u={unversionedId:"getting-started/project-setup/manual-setup",id:"getting-started/project-setup/manual-setup",title:"Create a plugin manually",description:"Create the project",source:"@site/docs/getting-started/project-setup/manual-setup.md",sourceDirName:"getting-started/project-setup",slug:"/getting-started/project-setup/manual-setup",permalink:"/getting-started/project-setup/manual-setup",draft:!1,editUrl:"https://github.com/Jump-King-Modding-Platform/docs/tree/main/docs/getting-started/project-setup/manual-setup.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Create a plugin manually"},sidebar:"docs",previous:{title:"Create a plugin using a template",permalink:"/getting-started/project-setup/using-a-template"},next:{title:"Create a content-only plugin",permalink:"/getting-started/project-setup/content-plugin"}},s={},c=[{value:"Create the project",id:"create-the-project",level:2},{value:"Create the plugin class",id:"create-the-plugin-class",level:2},{value:"Create the metadata file",id:"create-the-metadata-file",level:2},{value:"Copy the plugin to the game&#39;s directory",id:"copy-the-plugin-to-the-games-directory",level:2}],d={toc:c};function m(e){var t=e.components,n=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"create-the-project"},"Create the project"),(0,l.kt)("p",null,"Start off by creating a new C# class library project. It needs to target .NET Framework 4.6.2 and target x86."),(0,l.kt)("div",{className:"admonition admonition-important alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"important")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The project's assembly name needs to match ",(0,l.kt)("inlineCode",{parentName:"p"},"JKMP.Plugin.<NameOfPlugin>"),"."),(0,l.kt)("p",{parentName:"div"},"The plugin will not work if done incorrectly due to how plugins are searched for and loaded by Core."))),(0,l.kt)("p",null,"Add the following nuget package references:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"JKMP.Core"),(0,l.kt)("li",{parentName:"ul"},"JKMP.Core.Analyzers (Optional, but recommended since it provides compile error and warning messages for runtime errors)")),(0,l.kt)("h2",{id:"create-the-plugin-class"},"Create the plugin class"),(0,l.kt)("p",null,"Create a new class in the ",(0,l.kt)("inlineCode",{parentName:"p"},"JKMP.Plugin.<NameOfPlugin>")," namespace called ",(0,l.kt)("inlineCode",{parentName:"p"},"<NameOfPlugin>Plugin"),". So for example if ",(0,l.kt)("inlineCode",{parentName:"p"},"<NameOfPlugin>")," is ",(0,l.kt)("inlineCode",{parentName:"p"},"FallKing"),", the class name including the namespace should be called ",(0,l.kt)("inlineCode",{parentName:"p"},"JKMP.Plugin.FallKing.FallKingPlugin"),"."),(0,l.kt)("p",null,"Derive from the ",(0,l.kt)("inlineCode",{parentName:"p"},"JKMP.Core.Plugins.Plugin")," class."),(0,l.kt)("p",null,"Make sure the class follows these rules:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The class is not abstract."),(0,l.kt)("li",{parentName:"ul"},"The class is public."),(0,l.kt)("li",{parentName:"ul"},"The class has a public constructor with no parameters, or no constructors at all.")),(0,l.kt)("p",null,"If any of these rules are not met, the plugin will fail to load. If you added the Analyzers package mentioned above, you'll get compile errors."),(0,l.kt)("p",null,"Here's an example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-csharp"},"namespace JKMP.Plugin.FallKing;\n\npublic class FallKingPlugin : JKMP.Core.Plugins.Plugin\n{\n    // Use intellisense to see what methods you can override and other properties you can use.\n}\n")),(0,l.kt)("h2",{id:"create-the-metadata-file"},"Create the metadata file"),(0,l.kt)("p",null,"Core uses a meta data file called ",(0,l.kt)("inlineCode",{parentName:"p"},"plugin.json")," to read information about the plugin. As is evident from the name, it should be formatted as JSON."),(0,l.kt)("p",null,"An example of the metadata file is shown below:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "name": "My Plugin",\n    "description": "This is my plugin, it does stuff.",\n    "version": "1.0.0", // Semantic versioning\n    "authors": [\n        "My Name"\n    ],\n    "dependencies": {\n        "SomePlugin": "^1.0.0" // A version range, same syntax as npm if you\'re familiar with it.\n    }\n}\n')),(0,l.kt)("p",null,"This file should be included with the plugin."),(0,l.kt)("p",null,"To read more about the metadata file, visit the ",(0,l.kt)("a",{parentName:"p",href:"../../plugin-metadata"},"Plugin Metadata")," page."),(0,l.kt)("h2",{id:"copy-the-plugin-to-the-games-directory"},"Copy the plugin to the game's directory"),(0,l.kt)("p",null,"After building the plugin, you can copy it to the following game directory: ",(0,l.kt)("inlineCode",{parentName:"p"},"Jump King\\JKMP\\Plugins\\<NameOfPlugin>")),(0,l.kt)("p",null,"The following files should be included:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"JKMP.Plugin.<NameOfPlugin>.dll")),(0,l.kt)("li",{parentName:"ul"},"plugin.json")),(0,l.kt)("p",null,"And any other dependencies or content that the plugin needs."),(0,l.kt)("p",null,"Note that dependencies can be placed in a subdirectory called ",(0,l.kt)("inlineCode",{parentName:"p"},"Dependencies"),"."),(0,l.kt)("p",null,"Content needs to be placed in a subdirectory called ",(0,l.kt)("inlineCode",{parentName:"p"},"Content"),"."),(0,l.kt)("p",null,"Here's an example of a plugin's directory structure:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre"},"MyPlugin\n|   JKMP.Plugin.MyPlugin.dll\n|   plugin.json\n\u2514\u2500\u2500\u2500Dependencies\n|   \u2514\u2500\u2500\u2500MyDependency.dll\n\u2514\u2500\u2500\u2500Content\n|   \u2514\u2500\u2500\u2500MyPlugin\n|       \u2514\u2500\u2500\u2500MyContent.png\n")),(0,l.kt)("p",null,"To read more about content, see the ",(0,l.kt)("a",{parentName:"p",href:"../../content"},"Content")," section."),(0,l.kt)("p",null,"Any potential dependencies to other plugins should not be included with the plugin. These will be resolved by Core."))}m.isMDXComponent=!0}}]);